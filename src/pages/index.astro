---
import Invite from "../components/Invite.astro";
import Survey from "../components/Survey.vue";
import Layout from "../layouts/Layout.astro";
---

<Layout title="Pozvánka">
  <div
    class="bg-image flex h-full flex-col items-center justify-center bg-neutral-900"
  >
    <Invite />
  </div>
  <div
    id="survey"
    class="flex h-full flex-col items-center justify-evenly bg-neutral-900 dark:text-white"
  >
    <div
      class="container flex flex-col items-center border-t border-b border-black py-3 dark:border-yellow-500 sm:w-2/3 xl:w-1/3"
    >
      <div>Ak premýšľaš:</div>
      <div>"Akú fľašu Mirkovi na narodeniny dať?"</div>
      <div>Tak budem vďačnejší,</div>
      <div>keď inú drobnosť budem od Teba mať.</div>
    </div>
    <Survey client:visible />
  </div>
</Layout>

<script>
  import { fireConfetti } from "../confetti";

  const scroll = () => {
    const objDiv = document.getElementById("survey") as HTMLElement;
    objDiv.scrollIntoView({
      behavior: "smooth",
      block: "end",
      inline: "nearest",
    });
  };

  setTimeout(fireConfetti, 1000);
  setTimeout(scroll, 10000);
</script>
